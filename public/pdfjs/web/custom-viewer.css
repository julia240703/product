/* ====== Overrides untuk viewer.html ====== */
*{ box-sizing:border-box }
:root{ --vh:100vh; --topbar-h:56px; }

html,body{
  height:100%; margin:0; overflow:hidden; background:#f6f7f9;
  font-family:system-ui,-apple-system,"Segoe UI",Roboto,Arial,"Noto Sans","Helvetica Neue",sans-serif;
}

/* Topbar & tombol */
.topbar{
  height:var(--topbar-h);
  display:flex; align-items:center; gap:12px;
  padding:0 14px; border-bottom:1px solid #e5e7eb; background:#fff;
  position:sticky; top:0; z-index:1000;
}
.btn{ display:inline-flex;align-items:center;justify-content:center;height:32px;min-width:32px;
  padding:0 10px;border:1px solid #e5e7eb;border-radius:8px;background:#fff;cursor:pointer;user-select:none }
.sep{height:20px;width:1px;background:#e5e7eb;margin:0 4px}
.pagebox{display:inline-flex;align-items:center;gap:8px}
.pagebox input{ width:52px;height:32px;border:1px solid #e5e7eb;border-radius:8px;text-align:center;font:inherit;background:#fff }
.pagebox input.invalid{ border-color:#ef4444; box-shadow:0 0 0 2px rgba(239,68,68,.15); }
.grow{ flex:1 }

/* Area viewer */
.viewer{
  height:calc(100vh - var(--topbar-h));
  overflow:auto; background:#edeff2; padding:16px;
  scroll-behavior:smooth; position:relative;
}
.pageWrap{
  position:relative; display:block; margin:0 auto 16px;
  background:#fff; box-shadow:0 2px 10px rgba(0,0,0,.06); z-index:1;
}
canvas{ display:block; width:100%; height:auto }

/* textLayer: teks invisible tapi interaktif */
.textLayer{ position:absolute; inset:0; pointer-events:auto; color:transparent; }
.textLayer span{ position:absolute; white-space:pre; transform-origin:0 0; }

/* Highlight */
.textLayer mark.hl{
  background: rgba(255, 235, 59, .65);
  color: transparent;
  padding: 0 .05em;
  border-radius: 2px;
  box-shadow: 0 0 0 2px rgba(245, 158, 11, .85) inset;
}
.textLayer mark.hl.active{
  background: rgba(255, 213, 79, .85);
  box-shadow: 0 0 0 2px rgba(234, 179, 8, 1) inset;
}

/* Kedip saat lompat */
.hitFlash{
  outline:3px solid #60a5fa;
  box-shadow:0 0 0 6px rgba(96,165,250,.25) inset;
  animation:fade 1.2s ease-out forwards;
}
@keyframes fade{
  to{ outline-color:transparent; box-shadow:0 0 0 0 rgba(96,165,250,0) inset }
}

/* Find bar */
.findbar{
  position: sticky;
  top: var(--topbar-h);
  z-index: 999;
  display: flex; gap: 8px; align-items: center;
  padding: 8px; background:#fff; border:1px solid #e5e7eb; border-left:0; border-right:0;
}
.findbar.hidden{ display:none !important; }
.findbar input#findInput{
  flex: 1; height: 36px; border:1px solid #e5e7eb; border-radius:8px; padding:0 10px; font:inherit;
}
.findbar .btn{ height:32px; min-width:32px; }